{% if csrf_token is not defined %}
	{% set csrf_token = render(controller('SopinetTemplateSbadmin2Bundle:Default:getToken')) %}
{% endif %}

<form action="{{ path('fos_user_registration_register') }}" {{ form_enctype(form) }} method="POST" class="fos_user_registration_register" id="register_form" role="form">
    {{ form_errors(form) }}
    <div class="form-group{% if form.email.first.vars.errors[0].message is defined %} has-error{% endif %}">
		{{ form_widget(form.email.first, {'attr': {'class': 'form-control', 'placeholder': 'Register.email'|trans}}) }}
            {% if form.email.first.vars.errors[0].message is defined %}
            <span class="help-block">
                {{ form.email.first.vars.errors[0].message }}
            </span>
        {% endif %}
    </div>
    <div class="form-group{% if form.email.second.vars.errors[0].message is defined %} has-error{% endif %}">
        {{ form_widget(form.email.second, {'attr': {'class': 'form-control', 'placeholder': 'Register.emailconfirmation'|trans}}) }}
            {% if form.email.second.vars.errors[0].message is defined %}
            <span class="help-block">
                {{ form.email.second.vars.errors[0].message }}
            </span>
        {% endif %}
    </div>
    <div  hidden="hidden" class="form-group{% if form.username.vars.errors[0].message is defined %} has-error{% endif %}">
		{{ form_widget(form.username, {'attr': {'class': 'form-control', 'placeholder': 'Register.name'|trans}}) }}
        {% if form.username.vars.errors[0].message is defined %}
        	<span class="help-block">
                {{ form.username.vars.errors[0].message|trans }}
            </span>
        {% endif %}
    </div>
    <div class="form-group{% if form.plainPassword.first.vars.errors[0].message is defined %} has-error{% endif %}">
		{{ form_widget(form.plainPassword.first, {'attr': {'class': 'form-control', 'placeholder': 'Register.pass'|trans}}) }}
        {% if form.plainPassword.first.vars.errors[0].message is defined %}
        	<span class="help-block">
            	{{ form.plainPassword.first.vars.errors[0].message|trans }}
            </span>
        {% endif %}
    </div>
    <div class="form-group{% if form.plainPassword.second.vars.errors[0].message is defined %} has-error{% endif %}">
		{{ form_widget(form.plainPassword.second, {'attr': {'class': 'form-control', 'placeholder': 'Register.repeatpass'|trans}}) }}
        {% if form.plainPassword.second.vars.errors[0].message is defined %}
	        <span class="help-block">
	        	{{ form.plainPassword.second.vars.errors[0].message|trans }}
	        </span>
        {% endif %}
    </div>
    <button class="btn btn-lg btn-success btn-block" type="submit">{{ 'registration.submit'|trans({}, 'FOSUserBundle') }}</button>
{{ form_end(form) }}
</div>
<div class="panel-footer">
	<a href="{{ path('fos_user_security_login') }}">{{ 'have_account'|trans }}</a>
